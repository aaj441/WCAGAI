# Nixpacks Configuration for Railway
# WCAGAI v2.0 - Production Build Configuration

[phases.setup]
# Fixed: nodejs_20 (not nodejs-20_x) + bash for orchestrate.sh
nixPkgs = ["nodejs_20", "bash"]

[phases.install]
# Install all dependencies (including concurrently)
cmds = ["npm ci"]

[phases.build]
# No build step needed
cmds = ["echo 'No build required'"]

[start]
# Use npm start (runs: concurrently health.js + orchestrate.sh)
cmd = "npm start"
