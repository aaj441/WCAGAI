# ============================================================================
# WCAGAI Complete Stack v2.0 - Environment Configuration
# ============================================================================

# ----------------------------------------------------------------------------
# Server Configuration
# ----------------------------------------------------------------------------
PORT=3000
NODE_ENV=development

# ----------------------------------------------------------------------------
# Gemini API (Required for WCAGAI-Gemini 2.0)
# ----------------------------------------------------------------------------
# Get your API key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# ----------------------------------------------------------------------------
# Railway Deployment
# ----------------------------------------------------------------------------
# Automatically set by Railway, or manually configure:
RAILWAY_STATIC_URL=your-app.up.railway.app
RAILWAY_ENVIRONMENT=production

# ----------------------------------------------------------------------------
# Redis / BullMQ Configuration
# ----------------------------------------------------------------------------
# Option 1: Standard Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Option 2: Upstash Redis (Serverless)
# Get your URL from: https://console.upstash.com/
UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
UPSTASH_REDIS_REST_TOKEN=your_upstash_token_here

# Enable BullMQ job queues (set to 'true' for production)
USE_BULLMQ=true

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://postgres:password@localhost:5432/wcagai

# ----------------------------------------------------------------------------
# Multi-Tenant Configuration
# ----------------------------------------------------------------------------
# Tenant ID for namespace isolation
TENANT_ID=default

# Violation threshold for badge generation (default: 5)
VIOLATION_THRESHOLD=5

# ----------------------------------------------------------------------------
# External APIs (from WCAG Machine v5.0)
# ----------------------------------------------------------------------------

# SerpApi (for keyword â†’ URL discovery)
# Get your key from: https://serpapi.com/manage-api-key
SERPAPI_KEY=your_serpapi_key_here

# HubSpot CRM (for contact management)
# Get your key from: https://app.hubspot.com/settings/integrations/api
HUBSPOT_API_KEY=your_hubspot_key_here

# Hunter.io (for CEO email enrichment)
# Get your key from: https://hunter.io/api_keys
HUNTER_API_KEY=your_hunter_api_key_here

# ----------------------------------------------------------------------------
# Deployment & Monitoring
# ----------------------------------------------------------------------------
# URL where the dashboard will be deployed
DEPLOY_URL=https://your-dashboard.onrender.com

# ----------------------------------------------------------------------------
# Security Configuration
# ----------------------------------------------------------------------------
# Prompt injection detection threshold (0.0 - 1.0)
PROMPT_INJECTION_THRESHOLD=0.7

# Enable audit logging (true/false)
ENABLE_AUDIT_LOG=true

# Rate limiting (requests per 15 minutes per IP)
RATE_LIMIT_MAX=100

# ----------------------------------------------------------------------------
# Feature Flags
# ----------------------------------------------------------------------------
# Enable/disable specific features
FEATURE_GEMINI_CHAT=true
FEATURE_AAG_BADGES=true
FEATURE_VISUAL_REGRESSION=true
FEATURE_AUTO_DEPLOY=false

# ----------------------------------------------------------------------------
# Logging Configuration
# ----------------------------------------------------------------------------
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Log directory (relative to project root)
LOG_DIR=logs

# ----------------------------------------------------------------------------
# Testing & Development
# ----------------------------------------------------------------------------
# Skip external API calls in tests
TEST_MODE=false

# Mock Gemini responses for testing
MOCK_GEMINI=false

# Playwright browser for visual tests (chromium, firefox, webkit)
PLAYWRIGHT_BROWSER=chromium

# ----------------------------------------------------------------------------
# Notes
# ----------------------------------------------------------------------------
# 1. Copy this file to '.env' and fill in your actual values
# 2. Never commit '.env' to version control (it's in .gitignore)
# 3. Required for basic functionality: GEMINI_API_KEY, REDIS config OR UPSTASH config
# 4. Optional but recommended: DATABASE_URL, SERPAPI_KEY, HUBSPOT_API_KEY
# 5. For production deployment, set NODE_ENV=production
